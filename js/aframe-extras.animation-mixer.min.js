!function t(i,e,n){function o(r,s){if(!e[r]){if(!i[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=e[r]={exports:{}};i[r][0].call(u.exports,function(t){var e=i[r][1][t];return o(e||t)},u,u.exports,t,i,e,n)}return e[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,i,e){AFRAME.registerComponent("animation-mixer",t("./tmp/aframe-extras.animation-mixer/index.js"))},{"./tmp/aframe-extras.animation-mixer/index.js":2}],2:[function(t,i,e){function n(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}var o={once:THREE.LoopOnce,repeat:THREE.LoopRepeat,pingpong:THREE.LoopPingPong};i.exports={schema:{clip:{default:"*"},duration:{default:0},crossFadeDuration:{default:0},loop:{default:"repeat",oneOf:Object.keys(o)},repetitions:{default:1/0,min:0}},init:function(){this.model=null,this.mixer=null,this.activeActions=[];var t=this.el.getObject3D("mesh");t?this.load(t):this.el.addEventListener("model-loaded",function(t){this.load(t.detail.model)}.bind(this))},load:function(t){var i=this.el;this.model=t,this.mixer=new THREE.AnimationMixer(t),this.mixer.addEventListener("loop",function(t){i.emit("animation-loop",{action:t.action,loopDelta:t.loopDelta})}.bind(this)),this.mixer.addEventListener("finished",function(t){i.emit("animation-finished",{action:t.action,direction:t.direction})}.bind(this)),this.data.clip&&this.update({})},remove:function(){this.mixer&&this.mixer.stopAllAction()},update:function(t){t&&(this.stopAction(),this.data.clip&&this.playAction())},stopAction:function(){for(var t=this.data,i=0;i<this.activeActions.length;i++)t.crossFadeDuration?this.activeActions[i].fadeOut(t.crossFadeDuration):this.activeActions[i].stop();this.activeActions.length=0},playAction:function(){if(this.mixer){var t=this.model,i=this.data,e=t.animations||(t.geometry||{}).animations||[];if(e.length)for(var a,r=function(t){return new RegExp("^"+t.split(/\*+/).map(n).join(".*")+"$")}(i.clip),s=0;a=e[s];s++)if(a.name.match(r)){var c=this.mixer.clipAction(a,t);c.enabled=!0,i.duration&&c.setDuration(i.duration),c.setLoop(o[i.loop],i.repetitions).fadeIn(i.crossFadeDuration).play(),this.activeActions.push(c)}}},tick:function(t,i){this.mixer&&!isNaN(i)&&this.mixer.update(i/1e3)}}},{}]},{},[1]);